////////////////////////////////////////////////////////////////////////////////
// HT_Voltage.ino
//
// Project: HAB_Tracker
// Author:  infaddict
// Date:    February 2015
// Desc:    Battery voltage monitor
////////////////////////////////////////////////////////////////////////////////
#define VOLTAGE_PIN 2
const float R1 = 100.0;    // Resistor 1 value
const float R2 = 50.0;     // Resistor 2 value

////////////////////////////////////////////////////////////////////////////////
// getVoltage()
// Returns the voltage detected on the analog pin in Volts
////////////////////////////////////////////////////////////////////////////////
float getVoltage()
{
  int pinval = analogRead(VOLTAGE_PIN);

  float vout = (pinval * 3.3) / 1024.0;
  float vin = vout / (R2/(R1+R2));
  return vin;
}
